<html><head><base href="https://insurance-application.com/">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vehicle Insurance Application</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body, html {
            font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS", sans-serif;
            background: #79aae1;
            margin: 0;
            padding: 20px;
        }
        body {
            max-width: 800px;
            margin: 0 auto;
            background: #c9ddf4;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }
        body[data-theme="dark"] {
            background: #40444b;
            color: #fAf9f6;
        }
        h1, h2 {
            color: #2c3e50;
        }
        body[data-theme="dark"] .form-section,
        body[data-theme="dark"] #reviewSection,
        body[data-theme="dark"] #dashboard {
            background: #303134;
            border-color: #5f6368;
        }
        .form-section {
            background: #ffffff;
            border: none;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="text"], input[type="email"], input[type="number"], select {
            background-color: #f8fafc;
            border: 2px solid #c9ddf4;
            width: 100%;
            padding: 8px;
            border-radius: 4px;
            box-sizing: border-box;
            transition: all 0.3s ease;
        }
        body[data-theme="dark"] input[type="text"],
        body[data-theme="dark"] input[type="email"],
        body[data-theme="dark"] input[type="number"],
        body[data-theme="dark"] select {
            background-color: #f4f2f1;
            color: #242320;
            border-color: #cacde0;
        }
        input:focus, select:focus {
            border-color: #4a90e2;
            box-shadow: 0 0 5px rgba(74, 144, 226, 0.3);
            outline: none;
        }
        button {
            background-color: #4a90e2;
            color: white;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 6px;
            font-weight: bold;
            margin-right: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        body[data-theme="dark"] .btn {
            background-color: #DDF1ED;
            color: #202124;
        }
        body[data-theme="dark"] button:hover {
            background-color: #f1dde1;
        }
        button:hover {
            background-color: #357abd;
            transform: translateY(-2px);
        }
        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .error {
            color: #e74c3c;
            font-size: 0.9em;
        }
        .hidden {
            display: none;
        }
        #progressBar {
            width: 100%;
            background-color: #ffffff;
            padding: 3px;
            border-radius: 3px;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2);
            margin-bottom: 20px;
        }
        #progressBar div {
            width: 0;
            height: 20px;
            background-color: #4a90e2;
            border-radius: 3px;
            transition: width 0.5s ease-in-out;
            background-image: linear-gradient(45deg, 
                rgba(255, 255, 255, .15) 25%, transparent 25%,
                transparent 50%, rgba(255, 255, 255, .15) 50%,
                rgba(255, 255, 255, .15) 75%, transparent 75%,
                transparent);
            background-size: 40px 40px;
            animation: progress-bar-stripes 1s linear infinite;
        }
        @keyframes progress-bar-stripes {
            from { background-position: 40px 0; }
            to { background-position: 0 0; }
        }
        #mainNav {
            margin-bottom: 20px;
        }
        .nav-button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 5px;
            margin-right: 10px;
        }
        .nav-button:hover {
            background-color: #2980b9;
        }
        .nav-button.active {
            background-color: #2c3e50;
        }
        #dashboard {
            border: 1px solid #ddd;
            padding: 20px;
            margin-top: 20px;
            border-radius: 5px;
            animation: fadeIn 0.8s ease-out;
            padding: 30px;
        }
        #quotationReview,
        #websiteGuide {
            background: #ffffff;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        #quotationReview:hover,
        #websiteGuide:hover {
            transform: translateY(-5px);
        }
        body[data-theme="dark"] #quotationReview,
        body[data-theme="dark"] #websiteGuide {
            background: #303134;
            border: 1px solid #5f6368;
        }
        #quotationContent {
            margin-bottom: 20px;
        }
        #websiteGuide ol {
            padding-left: 20px;
        }
        #reviewSection {
            background: #ffffff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }
        #reviewContent {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .review-container {
            background: #ffffff;
            border-radius: 8px;
            padding: 20px;
        }
        .review-section {
            margin-bottom: 25px;
            padding: 15px;
            background: #f8fafc;
            border-radius: 6px;
        }
        .review-section h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            border-bottom: 2px solid #c9ddf4;
            padding-bottom: 8px;
        }
        .review-item {
            display: flex;
            margin-bottom: 10px;
            padding: 8px 0;
            border-bottom: 1px solid #eef2f7;
        }
        .review-label {
            font-weight: bold;
            color: #4a5568;
            width: 200px;
        }
        .review-value {
            color: #2d3748;
            flex: 1;
        }
        .info-panel {
            background: #ffffff;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            animation: slideIn 0.8s ease-out;
        }
        .coverage-option {
            padding: 15px;
            margin: 10px 0;
            background: #f1f3f4;
            border-radius: 10px;
            transition: transform 0.2s ease;
        }
        .coverage-option:hover {
            transform: translateY(-2px);
        }
        .coverage-option h4 {
            color: #202124;
            margin-bottom: 10px;
        }
        .coverage-option ul {
            padding-left: 20px;
            margin: 10px 0;
        }
        .coverage-option li {
            margin: 5px 0;
            color: #5f6368;
        }
        body[data-theme="dark"] .coverage-option {
            background: #303134;
        }
        body[data-theme="dark"] .coverage-option h4 {
            color: #e8eaed;
        }
        body[data-theme="dark"] .coverage-option li {
            color: #9aa0a6;
        }
        .theme-toggle {
            font-size: 24px;
            padding: 8px;
            border-radius: 50%;
            background: transparent;
            border: none;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .theme-toggle:hover {
            transform: rotate(360deg);
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        @media (max-width: 500px) {
            body {
                padding: 10px;
            }
            h1 {
                font-size: 24px;
            }
            h2 {
                font-size: 20px;
            }
            .form-section {
                padding: 10px;
            }
            #mainNav {
                display: flex;
                flex-direction: column;
            }
            .nav-button {
                margin-right: 0;
                margin-bottom: 10px;
                width: 100%;
            }
            input[type="text"], input[type="email"], input[type="number"], select {
                font-size: 16px; 
            }
            button {
                width: 100%;
                margin-bottom: 10px;
            }
            #backButton, #nextButton {
                width: 48%;
                margin-right: 2%;
            }
            #nextButton {
                margin-right: 0;
            }
            #progressBar {
                height: 15px;
            }
            #progressBar div {
                height: 15px;
            }
            #dashboard {
                padding: 10px;
            }
            #websiteGuide ol {
                padding-left: 15px;
            }
        }
    </style>
    </head>
    <body>
        <button id="themeToggle" class="theme-toggle">
            ðŸŒ“
        </button>
        <h1>Vehicle Insurance Application</h1>
        <nav id="mainNav">
            <button class="nav-button" data-section="insuranceForm">Apply</button>
            <button class="nav-button active" data-section="dashboard">Dashboard</button>
        </nav>
    
        <div id="progressBar"><div></div></div>
    
        <form id="insuranceForm">
            <div id="vehicleSection" class="form-section">
                <h2>Vehicle Information</h2>
                <div class="form-group">
                    <label for="vehicleMake">Vehicle Make:</label>
                    <select id="vehicleMake" name="vehicleMake" required>
                        <option value="">Select Make</option>
                        <option value="Audi">Audi</option>
                        <option value="BMW">BMW</option>
                        <option value="Ford">Ford</option>
                        <option value="Honda">Honda</option>
                        <option value="Toyota">Toyota</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="vehicleModel">Vehicle Model:</label>
                    <select id="vehicleModel" name="vehicleModel" required>
                        <option value="">Select Model</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="vehicleYear">Manufacturing Year:</label>
                    <input type="number" id="vehicleYear" name="vehicleYear" min="1900" max="2023" required>
                </div>
                <div class="form-group">
                    <label for="bodyType">Body Type:</label>
                    <select id="bodyType" name="bodyType" required>
                        <option value="">Select Body Type</option>
                        <option value="Saloon">Saloon</option>
                        <option value="Hatchback">Hatchback</option>
                        <option value="SUV">SUV</option>
                        <option value="Coupe">Coupe</option>
                        <option value="Convertible">Convertible</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="seatingCapacity">Seating Capacity:</label>
                    <input type="number" id="seatingCapacity" name="seatingCapacity" min="2" max="9" required>
                </div>
                <div class="form-group">
                    <label for="cylinderCapacity">Cylinder Capacity (C.C.):</label>
                    <input type="number" id="cylinderCapacity" name="cylinderCapacity" min="500" max="8000" step="100" required>
                </div>
                <div class="form-group">
                    <label for="vehicleValue">Estimated Vehicle Value (HK$):</label>
                    <input type="number" id="vehicleValue" name="vehicleValue" min="0" step="1000" required>
                </div>
                <button type="button" id="nextButton">Next</button>
            </div>
    
            <div id="personalSection" class="form-section hidden">
                <h2>Personal Information</h2>
                <div class="form-group">
                    <label for="fullName">Full Name:</label>
                    <input type="text" id="fullName" name="fullName" required>
                </div>
                <div class="form-group">
                    <label for="email">Email Address:</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="phoneNumber">Phone Number:</label>
                    <input type="text" id="phoneNumber" name="phoneNumber" required>
                </div>
                <div class="form-group">
                    <label for="drivingExperience">Driving Experience (years):</label>
                    <input type="number" id="drivingExperience" name="drivingExperience" min="0" max="70" required>
                </div>
                <div class="form-group">
                    <label for="coveragePlan">Select Coverage Plan:</label>
                    <select id="coveragePlan" name="coveragePlan" required>
                        <option value="">Select a plan</option>
                        <option value="comprehensive">Comprehensive Coverage</option>
                        <option value="thirdParty">Third-Party Coverage</option>
                    </select>
                </div>
                <button type="button" id="backButton">Back</button>
                <button type="submit">Submit Application</button>
            </div>
        </form>
    
        <div id="reviewSection" class="hidden">
            <h2>Review Your Application</h2>
            <div id="reviewContent"></div>
            <button id="editButton">Edit Application</button>
            <button id="confirmButton">Confirm and Submit</button>
        </div>
    
        <div id="confirmationSection" class="hidden">
            <h2>Application Submitted Successfully</h2>
            <p>Thank you for submitting your application. Your estimated processing time is 2-3 business days.</p>
            <p>Your application reference number: <strong id="applicationId"></strong></p>
            <p>You can track the status of your application using this reference number.</p>
        </div>
    
        <div id="dashboard" class="hidden">
            <div class="dashboard-header">
                <h2>Welcome to Your Insurance Dashboard</h2>
            </div>
            <div id="quotationReview" class="info-panel">
                <h3>Insurance Coverage Options</h3>
                <div class="coverage-option">
                    <h4>Third Party Liability Insurance</h4>
                    <p>Basic protection that provides compensation in case of accidents where you are liable:</p>
                    <ul>
                        <li>Third party death compensation</li>
                        <li>Third party bodily injury coverage</li>
                        <li>Property damage protection</li>
                    </ul>
                </div>
                <div class="coverage-option">
                    <h4>Comprehensive Motor Insurance</h4>
                    <p>Enhanced protection including:</p>
                    <ul>
                        <li>All Third Party Liability coverage</li>
                        <li>Protection against traffic accidents</li>
                        <li>Flood and fire damage coverage</li>
                        <li>Theft protection</li>
                        <li>Medical and personal accident coverage</li>
                        <li>Death and bodily injury compensation</li>
                    </ul>
                </div>
                <button id="applyNow" class="btn">Apply Now</button>
            </div>
            <div id="websiteGuide">
                <h3>How to Use This Website</h3>
                <ol>
                    <li>Fill in the Vehicle Information form with details about your car.</li>
                    <li>Provide your Personal Information and select a Coverage Plan.</li>
                    <li>Review your application details before submitting.</li>
                    <li>After submission, you can view and edit your quotation from the Dashboard.</li>
                </ol>
            </div>
        </div>
    
        <script>
        $(document).ready(function() {
            const carModels = {
                'Audi': ['A3', 'A4', 'A6', 'Q5', 'Q7'],
                'BMW': ['3 Series', '5 Series', 'X3', 'X5', 'Z4'],
                'Ford': ['Focus', 'Fiesta', 'Mustang', 'Explorer', 'F-150'],
                'Honda': ['Civic', 'Accord', 'CR-V', 'HR-V', 'Jazz'],
                'Toyota': ['Corolla', 'Camry', 'RAV4', 'Prius', 'Yaris']
            };
    
            $('#vehicleMake').on('change', function() {
                const selectedMake = $(this).val();
                $('#vehicleModel').html('<option value="">Select Model</option>');
                if (carModels[selectedMake]) {
                    carModels[selectedMake].forEach(model => {
                        $('#vehicleModel').append(`<option value="${model}">${model}</option>`);
                    });
                }
            });
    
            function updateProgressBar() {
                const totalFields = $('#insuranceForm').find('input, select').length;
                const filledFields = $('#insuranceForm').find('input, select').filter(function() {
                    return $(this).val() !== '';
                }).length;
                const progress = (filledFields / totalFields) * 100;
                $('#progressBar div').width(progress + '%');
            }
    
            $('#insuranceForm').on('input', updateProgressBar);
    
            $('#nextButton').click(function() {
                if (validateVehicleSection()) {
                    $('#vehicleSection').slideUp(300);
                    $('#personalSection').delay(300).slideDown(300);
                    updateProgressBar();
                }
            });
    
            $('#backButton').click(function() {
                $('#personalSection').slideUp(300);
                $('#vehicleSection').delay(300).slideDown(300);
            });
    
            $('#insuranceForm').submit(function(e) {
                e.preventDefault();
                if (validateForm()) {
                    displayReview();
                    updateQuotationReview();
                }
            });
    
            function validateVehicleSection() {
                let isValid = true;
                $('.error').remove();
    
                const vehicleFields = ['vehicleMake', 'vehicleModel', 'vehicleYear', 'bodyType', 'seatingCapacity', 'cylinderCapacity', 'vehicleValue'];
                vehicleFields.forEach(fieldId => {
                    const $field = $(`#${fieldId}`);
                    if (!$field.val()) {
                        showError($field, 'This field is required');
                        isValid = false;
                    }
                });
    
                const vehicleYear = $('#vehicleYear');
                const currentYear = new Date().getFullYear();
                if (vehicleYear.val() < 1900 || vehicleYear.val() > currentYear) {
                    showError(vehicleYear, `Please enter a valid year between 1900 and ${currentYear}`);
                    isValid = false;
                }
    
                return isValid;
            }
    
            function validateForm() {
                let isValid = validateVehicleSection();
    
                const personalFields = ['fullName', 'email', 'phoneNumber', 'drivingExperience', 'coveragePlan'];
                personalFields.forEach(fieldId => {
                    const $field = $(`#${fieldId}`);
                    if (!$field.val()) {
                        showError($field, 'This field is required');
                        isValid = false;
                    }
                });
    
                const email = $('#email');
                if (!/^\S+@\S+\.\S+$/.test(email.val())) {
                    showError(email, 'Please enter a valid email address');
                    isValid = false;
                }
    
                const phoneNumber = $('#phoneNumber');
                if (!/^\d+$/.test(phoneNumber.val())) {
                    showError(phoneNumber, 'Please enter a valid phone number (numbers only)');
                    isValid = false;
                }
    
                const coveragePlan = $('#coveragePlan');
                if (coveragePlan.val() === "") {
                    showError(coveragePlan, 'Please select a coverage plan');
                    isValid = false;
                }
    
                return isValid;
            }
    
            function showError($input, message) {
                const error = $('<div>').addClass('error').text(message);
                $input.after(error);
            }
    
            function displayReview() {
                const formData = new FormData(document.getElementById('insuranceForm'));
                let reviewHTML = '<div class="review-container">';
                reviewHTML += '<h3 style="color: #2c3e50; margin-bottom: 20px;">Please Review Your Information</h3>';
                reviewHTML += '<div class="review-section"><h4>Vehicle Information</h4>';
                for (let [key, value] of formData.entries()) {
                    if (key.startsWith('vehicle') || key === 'bodyType' || key === 'seatingCapacity' || key === 'cylinderCapacity') {
                        reviewHTML += `<div class="review-item">
                            <span class="review-label">${formatLabel(key)}:</span>
                            <span class="review-value">${value}</span>
                        </div>`;
                    }
                }
                reviewHTML += '</div><div class="review-section"><h4>Personal Information</h4>';
                for (let [key, value] of formData.entries()) {
                    if (key.startsWith('full') || key === 'email' || key === 'phoneNumber' || key === 'drivingExperience' || key === 'coveragePlan') {
                        reviewHTML += `<div class="review-item">
                            <span class="review-label">${formatLabel(key)}:</span>
                            <span class="review-value">${value}</span>
                        </div>`;
                    }
                }
                reviewHTML += '</div></div>';
                $('#reviewContent').html(reviewHTML);
                $('#insuranceForm').fadeOut(300, function() {
                    $('#reviewSection').fadeIn(300);
                });
            }
    
            function formatLabel(key) {
                return key.replace(/([A-Z])/g, ' $1')
                    .replace(/^./, function(str){ return str.toUpperCase(); })
                    .replace(/([A-Z])/g, function(str, p1) { return ' ' + p1.toLowerCase(); });
            }
    
            $('#editButton').click(function() {
                $('#reviewSection').addClass('hidden');
                $('#insuranceForm').removeClass('hidden');
                $('#vehicleSection').removeClass('hidden');
                $('#personalSection').addClass('hidden');
            });
    
            $('#confirmButton').click(function() {
                $('#reviewSection').addClass('hidden');
                $('#confirmationSection').removeClass('hidden');
                const applicationId = 'INS' + Math.random().toString(36).substr(2, 9).toUpperCase();
                $('#applicationId').text(applicationId);
                updateQuotationReview();
            });
    
            function showSection(sectionId) {
                const sections = ['insuranceForm', 'reviewSection', 'confirmationSection', 'dashboard'];
                sections.forEach(id => {
                    $(`#${id}`).fadeOut(300);
                });
                $(`#${sectionId}`).delay(300).fadeIn(300);
                
                $('.nav-button').removeClass('active');
                $(`.nav-button[data-section="${sectionId}"]`).addClass('active');
            }
    
            function updateQuotationReview() {
                const formData = new FormData(document.getElementById('insuranceForm'));
                let reviewHTML = '';
                for (let [key, value] of formData.entries()) {
                    reviewHTML += `<p><strong>${formatLabel(key)}:</strong> ${value}</p>`;
                }
                $('#quotationContent').html(reviewHTML);
            }
    
            $('.nav-button').click(function() {
                showSection($(this).data('section'));
            });
    
            $('#applyNow').click(function() {
                showSection('insuranceForm');
                $('.nav-button[data-section="insuranceForm"]').addClass('active');
                $('.nav-button[data-section="dashboard"]').removeClass('active');
            });
    
            $('#themeToggle').click(function() {
                $('body').attr('data-theme', 
                    $('body').attr('data-theme') === 'dark' ? 'light' : 'dark');
                localStorage.setItem('theme', $('body').attr('data-theme'));
            });
    
            // Show dashboard by default
            showSection('dashboard');
            $('#dashboard').hide().fadeIn(1000);
            $('#quotationReview').hide().slideDown(800);
            $('#websiteGuide').hide().slideDown(800);
        });
        </script>
    </body>
    </html>