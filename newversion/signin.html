<!DOCTYPE html>
<html>
  <html lang="en">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <head>
      <title>Legend Motor - Login & Registration</title>
      <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      />
      <link rel="stylesheet" href="signin.css" />
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    </head>
    <body>
      <script src="signin.js" defer></script>
      <div class="container">
        <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ“</button>
        <div class="logo">
          <img src="/icon/lm.png" width="500px" height="350px" alt="companyLogo"/>
          </div>
        <script src="signin.js" defer></script>
        <div class="tab-container">
          <button 
            class="tab tab--1 active"
            data-tab="login"
            onclick="switchTab('login')"
          >
            Login
          </button>
          <button
            class="tab tab--2"
            data-tab="register"
            onclick="switchTab('register')"
          >
            Register
          </button>
          <div class="indicator"></div>
        </div>

        <!-- Login Form -->
        <div id="login-form" class="form-container">
          <form onsubmit="handleLogin(event)">
            <div class="form-group">
              <select
                id="login-type"
                class="input-field"
                onchange="updateLoginForm()"
              >
                <option value="customer">Customer</option>
                <option value="vehicle-sales">Vehicle Sales</option>
                <option value="insurance-sales">Insurance Sales</option>
              </select>
            </div>
            <div class="form-group">
              <label id="username-email-label" for="username-email"
                >Email Address*</label
              >
              <input
                type="email"
                id="username-email"
                class="input-field"
                required
                aria-required="true"
                aria-invalid="false"
                aria-describedby="email-error"
              />
            </div>
            <div class="form-group">
              <label for="password">Password*</label>
              <div class="password-container">
                <input
                  type="password"
                  id="password"
                  class="input-field"
                  required
                />
                <i class="password-toggle fas fa-eye"></i>
              </div>
            </div>
            <div class="form-group text-right">
              <a
                href="#"
                onclick="showForgotPassword()"
                class="forgot-password-link"
                >Forgot Password?</a
              >
            </div>
            <button type="submit" class="btn">Login</button>
          </form>
        </div>

        <!-- Forgot Password Modal -->
        <div id="forgot-password-modal">
          <div class="modal-content">
            <div class="modal-header">
              <h2>Reset Password</h2>
              <button class="close-modal" onclick="hideForgotPassword()">
                &times;
              </button>
            </div>
            <p>
              Enter your email address to receive password reset instructions.
            </p>
            <form onsubmit="handleForgotPassword(event)">
              <div class="form-group">
                <label for="reset-email">Email Address*</label>
                <div class="tooltip">
                  <span class="help-icon">?</span>
                  <span class="tooltip-text">Enter account email</span>
                </div>
                <input
                  type="email"
                  id="reset-email"
                  class="input-field"
                  required
                  aria-required="true"
                  aria-describedby="reset-email-help"
                />
              </div>
              <button type="submit" class="btn">Submit</button>
            </form>
          </div>
        </div>

        <!-- Registration Role Selection -->
        <div id="register-form" class="form-container" style="display: none">
          <div class="role-selection">
            <div class="role-card" onclick="showRegistrationForm('customer')">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
                />
              </svg>
              <div>Customer</div>
            </div>
            <div
              class="role-card"
              onclick="showRegistrationForm('vehicle-sales')"
            >
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"
                />
              </svg>
              <div>Vehicle Sales</div>
            </div>
            <div
              class="role-card"
              onclick="showRegistrationForm('insurance-sales')"
            >
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-1 14H5c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h14c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1z"
                />
              </svg>
              <div>Insurance Sales</div>
            </div>
          </div>
        </div>

        <!-- Registration Details Form -->
        <div
          id="registration-details"
          class="form-container registration-form"
          style="display: none"
        >
          <h2 id="registration-title"></h2>
          <form onsubmit="handleRegistration(event)">
            <div class="form-group">
              <label for="reg-name">Full Name*</label>
              <input
                type="text"
                id="reg-name"
                class="input-field"
                required
                placeholder="Enter your full name"
                data-tooltip="Letters only, 2-50 chars"
              />
              <div class="error-message" id="name-error">
                Please enter your full name
              </div>
            </div>
            <div class="form-group">
              <label for="reg-email">Email Address*</label>
              <input
                type="email"
                id="reg-email"
                class="input-field"
                required
                placeholder="example@domain.com"
                data-tooltip="Valid email required"
              />
              <div class="error-message" id="email-error">
                Please enter a valid email address
              </div>
            </div>
            <div class="form-group">
              <label for="reg-phone">Phone Number*</label>
              <input
                type="tel"
                id="reg-phone"
                class="input-field"
                pattern="\d{8}"
                title="Please enter 8 digits"
                required
                placeholder="9232678"
                data-tooltip="8 digits only"
              />
              <div class="error-message" id="phone-error">
                Please enter a valid 8-digit phone number
              </div>
            </div>
            <div
              id="staff-number-container"
              class="form-group"
              style="display: none"
            >
              <label for="staff-number">Staff Number</label>
              <input
                type="text"
                id="staff-number"
                class="input-field"
                data-tooltip="2 uppercase + 4 digits"
              />
              <div class="error-message" id="staff-error">
                Please enter your staff number
              </div>
            </div>
            <div
              id="username-container"
              class="form-group"
              style="display: none"
            >
              <label for="username">Username*</label>
              <input
                type="text"
                id="username"
                class="input-field"
                data-tooltip="3-20 chars: letters, numbers, _"
              />
              <div class="error-message" id="username-error">
                Please enter your username
              </div>
            </div>
            <div class="form-group">
              <label for="reg-password">Password*</label>
              <div class="password-container">
                <input
                  type="password"
                  id="reg-password"
                  class="input-field"
                  pattern="[A-Za-z0-9_$!@#|]{6,}"
                  required
                  placeholder="Create a password"
                />
                <i class="password-toggle fas fa-eye"></i>
              </div>
              <div class="strength-bar">
                <div class="strength-bar-fill"></div>
              </div>
              <div id="strength-message"></div>
              <div class="password-requirements">
                <p>Password must contain:</p>
                <ul style="list-style-type: none; padding-left: 0">
                  <li id="min">At least 8 characters</li>
                  <li id="oneUpper">At least one uppercase letter</li>
                  <li id="oneNum">At least one number</li>
                  <li id="oneSpecial">At least one special character</li>
                </ul>
              </div>
            </div>
            <div class="form-group">
              <label for="reg-confirm-password">Confirm Password*</label>
              <div class="password-container">
                <input
                  type="password"
                  id="reg-confirm-password"
                  class="input-field"
                  required
                  placeholder="Re-enter your password"
                />
                <i class="password-toggle fas fa-eye"></i>
              </div>
              <div class="error-message" id="password-match-error">
                Passwords do not match
              </div>
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" required />
                I agree to the terms and conditions
              </label>
            </div>
            <button type="submit" class="btn" disabled>Register</button>
          </form>
          <div id="registration-message"></div>
        </div>
      </div>
    </body>
  </html>
</html>
