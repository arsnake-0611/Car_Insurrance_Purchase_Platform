<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Legend Motor - Login & Registration</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link rel="stylesheet" href="signin.css">
</head>

<body>
  <script src="signin.js" defer></script>
  <div class="container">
    <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ“</button>

    <div class="logo">
      <img src="/icon/lm.png" alt="Legend Motor" width="400px" height="250px" >
    </div>

    <div class="tab-container">
      <button class="tab tab1 active" data-tab="login" onclick="switchTab('login')">Login</button>
      <button class="tab tab2" data-tab="register" onclick="switchTab('register')">Register</button>
      <div class="indicator"></div>
    </div>

    <!-- Login Form -->
    <div id="login-form" class="form-container">
      <form onsubmit="handleLogin(event)">
        <div class="form-group">
          <select id="login-type" class="input-field" onchange="updateLoginForm()">
            <option value="customer">Customer</option>
            <option value="vehicle-sales">Vehicle Sales</option>
            <option value="insurance-sales">Insurance Sales</option>
          </select>
        </div>
        <div class="form-group">
          <label id="username-email-label" for="username-email">Email Address*</label>
          <input type="email" id="username-email" class="input-field" required  name="You should input valid email address!">
        </div>
        <div class="form-group">
          <label for="password">Password*</label>
          <div class="password-container">
            <input type="password" id="password" class="input-field" required>
            <i class="password-toggle fas fa-eye"></i>
          </div>
        </div>
        <div class="form-group text-right">
          <a href="#" onclick="showForgotPassword()" class="forgot-password-link">Forgot Password?</a>
        </div>
        <button type="submit" class="btn">Login</button>
      </form>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgot-password-modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Reset Password</h2>
          <button class="close-modal" onclick="hideForgotPassword()">&times;</button>
        </div>
        <p>Enter your email address to receive password reset instructions.</p>
        <form onsubmit="handleForgotPassword(event)">
          <div class="form-group">
            <label for="reset-email">Email Address*</label>
            <div class="tooltip">
              <span class="help-icon">?</span>
              <span class="tooltip-text">Enter account email</span>
            </div>
            <input type="email" id="reset-email" class="input-field" required aria-required="true"
              aria-describedby="reset-email-help">
          </div>
          <button type="submit" class="btn">Submit</button>
        </form>
      </div>
    </div>

    <!-- Registration Role Selection -->
    <div id="register-form" class="form-container" style="display: none;">
      <div class="role-selection">
        <div class="role-card" onclick="showRegistrationForm('customer')">
          <img src="/icon/customer.png" alt="Customer icon" width="48px" height="48px">
          <div>Customer</div>
        </div>
        <div class="role-card" onclick="showRegistrationForm('vehicle-sales')">
          <img src="/icon/vehicle.png" alt="Vehicle sales icon" width="48px" height="48px">
          <div>Vehicle Sales</div>
        </div>
        <div class="role-card" onclick="showRegistrationForm('insurance-sales')">
          <img src="/icon/insurance.png" alt="Insurance sales icon" width="48px" height="48px">
          <div>Insurance Sales</div>
        </div>
      </div>
    </div>

    <!-- Registration Details Form -->
    <div id="registration-details" class="form-container registration-form" style="display: none;">
      <h2 id="registration-title"></h2>
      <form onsubmit="handleRegistration(event)">
        <div class="form-group">
          <label for="reg-name">Full Name*</label>
          <input type="text" id="reg-name" class="input-field" required placeholder="Enter your full name"
            data-tooltip="Letters only, 2-50 chars">
          <div class="error-message" id="name-error">Please enter your full name</div>
        </div>
        <div class="form-group">
          <label for="reg-email">Email Address*</label>
          <input type="email" id="reg-email" class="input-field" required placeholder="example@domain.com"
            data-tooltip="Valid email required">
          <div class="error-message" id="email-error">Please enter a valid email address</div>
        </div>
        <div class="form-group">
          <label for="reg-phone">Phone Number*</label>
          <input type="tel" id="reg-phone" class="input-field" pattern="\d{8}" title="Please enter 8 digits" required
            placeholder="9232678" data-tooltip="8 digits only">
          <div class="error-message" id="phone-error">Please enter a valid 8-digit phone number</div>
        </div>
        <div id="staff-number-container" class="form-group" style="display: none;">
          <label for="staff-number">Staff Number</label>
          <input type="text" id="staff-number" class="input-field" data-tooltip="2 uppercase + 4 digits">
          <div class="error-message" id="staff-error">Please enter your staff number</div>
        </div>
        <div id="username-container" class="form-group" style="display: none;">
          <label for="username">Username*</label>
          <input type="text" id="username" class="input-field" data-tooltip="3-20 chars: letters, numbers, _">
          <div class="error-message" id="username-error">Please enter your username</div>
        </div>
        <div class="form-group">
          <label for="reg-password">Password*</label>
          <div class="password-container">
            <input type="password" id="reg-password" class="input-field" pattern="[A-Za-z0-9_$!@#|]{6,}" required
              placeholder="Create a password">
            <i class="password-toggle fas fa-eye"></i>
          </div>
          <div class="strength-bar">
            <div class="strength-bar-fill"></div>
          </div>
          <div id="strength-message"></div>
          <div class="password-requirements">
            <p>Password must contain:</p>
            <ul style="list-style-type: none; padding-left: 0;">
              <li id="min">At least 8 characters</li>
              <li id="oneUpper">At least one uppercase letter</li>
              <li id="oneNum">At least one number</li>
              <li id="oneSpecial">At least one special character</li>
            </ul>
          </div>
        </div>
        <div class="form-group">
          <label for="reg-confirm-password">Confirm Password*</label>
          <div class="password-container">
            <input type="password" id="reg-confirm-password" class="input-field" required
              placeholder="Re-enter your password">
            <i class="password-toggle fas fa-eye"></i>
          </div>
          <div class="error-message" id="password-match-error">Passwords do not match</div>
        </div>
        <div class="form-group">
          <label>
            <input type="checkbox" required>
            I agree to the terms and conditions
          </label>
        </div>
        <button type="submit" class="btn" disabled>Register</button>
      </form>
      <div id="registration-message"></div>
    </div>
  </div>

</body>

</html>